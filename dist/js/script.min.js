"use strict";var _dominteractions=require("./dominteractions.js"),_requests=require("./requests.js");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createForOfIteratorHelper(e,t){var r,n,o,i,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return n=!(r=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){n=!0,o=e},f:function(){try{r||null==a.return||a.return()}finally{if(n)throw o}}};if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}var mainBtn=document.querySelector(".main-btn"),dropdownMenu=document.querySelector(".dropdown-menu"),TvMaze=(mainBtn.addEventListener("click",function(){dropdownMenu.classList.toggle("transform-class")}),_createClass(function e(){var a=this;_classCallCheck(this,e),_defineProperty(this,"initializeApp",function(){a.connectDOMElements(),a.setupListeners(),a.fetchAndDisplayShows()}),_defineProperty(this,"connectDOMElements",function(){var e=Array.from(document.querySelectorAll("[id]")).map(function(e){return e.id}),t=Array.from(document.querySelectorAll("[data-genre]")).map(function(e){return e.dataset.genre});a.viewElems=(0,_dominteractions.mapListToDOMElements)(e,"id"),a.showNameButtons=(0,_dominteractions.mapListToDOMElements)(t,"data-genre")}),_defineProperty(this,"setupListeners",function(){Object.keys(a.showNameButtons).forEach(function(e){return a.showNameButtons[e].addEventListener("click",a.setCurrentFilterByName)})}),_defineProperty(this,"setCurrentFilterByName",function(e){a.selectedName=e.target.dataset.genre}),_defineProperty(this,"fetchAndDisplayShows",function(){(0,_requests.getShowsByKey)(a.selectedName).then(function(e){return a.renderCards(e)})}),_defineProperty(this,"renderCards",function(e){var t,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var n=t.value.show;a.createShowCard(n)}}catch(e){r.e(e)}finally{r.f()}}),_defineProperty(this,"createShowCard",function(e){var t=e.summary.replace(/[<p>/]/g,""),r=(0,_dominteractions.createDOMElem)("div","card"),n=(0,_dominteractions.createDOMElem)("img","card-img",null,e.image.medium),o=(0,_dominteractions.createDOMElem)("div","card-text"),e=(0,_dominteractions.createDOMElem)("h5","card-title",e.name),t=(0,_dominteractions.createDOMElem)("p",null,t),i=(0,_dominteractions.createDOMElem)("button","drop-btn card-btn","Show");r.append(n,o,i),o.append(e,t),a.viewElems.showsWrapper.append(r)}),this.viewElems={},this.showNameButtons={},this.selectedName="harry",this.initializeApp()}));document.addEventListener("DOMContentLoaded",new TvMaze);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJfZG9taW50ZXJhY3Rpb25zIiwicmVxdWlyZSIsIl9yZXF1ZXN0cyIsIl90eXBlb2YiLCJvYmoiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJvIiwiYWxsb3dBcnJheUxpa2UiLCJub3JtYWxDb21wbGV0aW9uIiwiZGlkRXJyIiwiZXJyIiwiaSIsIml0IiwicyIsImNhbGwiLCJuIiwic3RlcCIsIm5leHQiLCJkb25lIiwiZSIsIl9lMiIsImYiLCJBcnJheSIsImlzQXJyYXkiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJsZW5ndGgiLCJGIiwidmFsdWUiLCJfZSIsIlR5cGVFcnJvciIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwiT2JqZWN0IiwidG9TdHJpbmciLCJzbGljZSIsIm5hbWUiLCJmcm9tIiwidGVzdCIsImFyciIsImxlbiIsImFycjIiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImRlZmluZVByb3BlcnR5IiwiX3RvUHJvcGVydHlLZXkiLCJrZXkiLCJfY3JlYXRlQ2xhc3MiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiX2RlZmluZVByb3BlcnR5IiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwiTnVtYmVyIiwicmVzIiwibWFpbkJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImRyb3Bkb3duTWVudSIsIlR2TWF6ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfdGhpcyIsInRoaXMiLCJzZXR1cExpc3RlbmVycyIsImZldGNoQW5kRGlzcGxheVNob3dzIiwibGlzdE9mSWRzIiwicXVlcnlTZWxlY3RvckFsbCIsIm1hcCIsImVsZW0iLCJpZCIsImRhdGFzZXQiLCJnZW5yZSIsInZpZXdFbGVtcyIsInNob3dOYW1lQnV0dG9ucyIsIm1hcExpc3RUb0RPTUVsZW1lbnRzIiwibGlzdE9mR2VucmUiLCJrZXlzIiwiZm9yRWFjaCIsInNldEN1cnJlbnRGaWx0ZXJCeU5hbWUiLCJzZWxlY3RlZE5hbWUiLCJnZXRTaG93c0J5S2V5IiwidGhlbiIsInNob3dzIiwicmVuZGVyQ2FyZHMiLCJfc3RlcCIsIl9pdGVyYXRvciIsInNob3ciLCJjcmVhdGVTaG93Q2FyZCIsImgiLCJjcmVhdGVET01FbGVtIiwiYnV0dG9uIiwiZGl2Q2FyZCIsImFwcGVuZCIsImNhcmRUZXh0IiwiaW1hZ2UiLCJtZWRpdW0iLCJzaG93c1dyYXBwZXIiLCJwYXJhZ3JhcGgiLCJzdW1tYXJ5QWZ0ZXIiLCJpbml0aWFsaXplQXBwIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFBQSxpQkFBQUMsUUFBQSxzQkFBQSxFQUNBQyxVQUFBRCxRQUFBLGVBQUEsRUFBOEMsU0FBQUUsUUFBQUMsR0FBQSxPQUFBRCxRQUFBLFlBQUEsT0FBQUUsUUFBQSxVQUFBLE9BQUFBLE9BQUFDLFNBQUEsU0FBQUYsR0FBQSxPQUFBLE9BQUFBLENBQUEsRUFBQSxTQUFBQSxHQUFBLE9BQUFBLEdBQUEsWUFBQSxPQUFBQyxRQUFBRCxFQUFBRyxjQUFBRixRQUFBRCxJQUFBQyxPQUFBRyxVQUFBLFNBQUEsT0FBQUosQ0FBQSxHQUFBQSxDQUFBLENBQUEsQ0FBQSxTQUFBSywyQkFBQUMsRUFBQUMsR0FBQSxJQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBLGFBQUEsT0FBQVgsUUFBQUssRUFBQUwsT0FBQUMsV0FBQUksRUFBQSxjQUFBLEdBQUFNLEVBQUEsT0FBQUgsRUFBQSxFQUFBRCxFQUFBLENBQUEsR0FBQSxDQUFBSyxFQUFBLFdBQUFELEVBQUFBLEVBQUFFLEtBQUFSLENBQUEsQ0FBQSxFQUFBUyxFQUFBLFdBQUEsSUFBQUMsRUFBQUosRUFBQUssS0FBQSxFQUFBLE9BQUFULEVBQUFRLEVBQUFFLEtBQUFGLENBQUEsRUFBQUcsRUFBQSxTQUFBQyxHQUFBWCxFQUFBLENBQUEsRUFBQUMsRUFBQVUsQ0FBQSxFQUFBQyxFQUFBLFdBQUEsSUFBQWIsR0FBQSxNQUFBSSxFQUFBLFFBQUFBLEVBQUEsT0FBQSxDQUFBLENBQUEsUUFBQSxHQUFBSCxFQUFBLE1BQUFDLENBQUEsQ0FBQSxDQUFBLEVBQUEsR0FBQVksTUFBQUMsUUFBQWpCLENBQUEsSUFBQU0sRUFBQVksNEJBQUFsQixDQUFBLElBQUFDLEdBQUFELEdBQUEsVUFBQSxPQUFBQSxFQUFBbUIsT0FBQSxPQUFBYixJQUFBTixFQUFBTSxHQUFBRCxFQUFBLEVBQUEsQ0FBQUUsRUFBQWEsRUFBQSxhQUFBWCxFQUFBLFdBQUEsT0FBQUosR0FBQUwsRUFBQW1CLE9BQUEsQ0FBQVAsS0FBQSxDQUFBLENBQUEsRUFBQSxDQUFBQSxLQUFBLENBQUEsRUFBQVMsTUFBQXJCLEVBQUFLLENBQUEsR0FBQSxDQUFBLEVBQUFRLEVBQUEsU0FBQVMsR0FBQSxNQUFBQSxDQUFBLEVBQUFQLEVBQUFLLENBQUEsRUFBQSxNQUFBLElBQUFHLFVBQUEsdUlBQUEsQ0FBQSxDQUFBLFNBQUFMLDRCQUFBbEIsRUFBQXdCLEdBQUEsSUFBQWYsRUFBQSxHQUFBVCxFQUFBLE1BQUEsVUFBQSxPQUFBQSxFQUFBeUIsa0JBQUF6QixFQUFBd0IsQ0FBQSxFQUFBLFNBQUFmLEVBQUEsWUFBQUEsRUFBQWlCLE9BQUE1QixVQUFBNkIsU0FBQW5CLEtBQUFSLENBQUEsRUFBQTRCLE1BQUEsRUFBQSxDQUFBLENBQUEsSUFBQTVCLEVBQUFILFlBQUFHLEVBQUFILFlBQUFnQyxLQUFBcEIsSUFBQSxRQUFBQSxFQUFBTyxNQUFBYyxLQUFBOUIsQ0FBQSxFQUFBLGNBQUFTLEdBQUEsMkNBQUFzQixLQUFBdEIsQ0FBQSxFQUFBZ0Isa0JBQUF6QixFQUFBd0IsQ0FBQSxFQUFBLEtBQUEsQ0FBQSxDQUFBLFNBQUFDLGtCQUFBTyxFQUFBQyxJQUFBLE1BQUFBLEdBQUFBLEVBQUFELEVBQUFiLFVBQUFjLEVBQUFELEVBQUFiLFFBQUEsSUFBQSxJQUFBZCxFQUFBLEVBQUE2QixFQUFBLElBQUFsQixNQUFBaUIsQ0FBQSxFQUFBNUIsRUFBQTRCLEVBQUE1QixDQUFBLEdBQUE2QixFQUFBN0IsR0FBQTJCLEVBQUEzQixHQUFBLE9BQUE2QixDQUFBLENBQUEsU0FBQUMsa0JBQUFDLEVBQUFDLEdBQUEsSUFBQSxJQUFBaEMsRUFBQSxFQUFBQSxFQUFBZ0MsRUFBQWxCLE9BQUFkLENBQUEsR0FBQSxDQUFBLElBQUFpQyxFQUFBRCxFQUFBaEMsR0FBQWlDLEVBQUFDLFdBQUFELEVBQUFDLFlBQUEsQ0FBQSxFQUFBRCxFQUFBRSxhQUFBLENBQUEsRUFBQSxVQUFBRixJQUFBQSxFQUFBRyxTQUFBLENBQUEsR0FBQWYsT0FBQWdCLGVBQUFOLEVBQUFPLGVBQUFMLEVBQUFNLEdBQUEsRUFBQU4sQ0FBQSxDQUFBLENBQUEsQ0FBQSxTQUFBTyxhQUFBQyxFQUFBQyxFQUFBQyxHQUFBLE9BQUFELEdBQUFaLGtCQUFBVyxFQUFBaEQsVUFBQWlELENBQUEsRUFBQUMsR0FBQWIsa0JBQUFXLEVBQUFFLENBQUEsRUFBQXRCLE9BQUFnQixlQUFBSSxFQUFBLFlBQUEsQ0FBQUwsU0FBQSxDQUFBLENBQUEsQ0FBQSxFQUFBSyxDQUFBLENBQUEsU0FBQUcsZ0JBQUFDLEVBQUFKLEdBQUEsR0FBQSxFQUFBSSxhQUFBSixHQUFBLE1BQUEsSUFBQXZCLFVBQUEsbUNBQUEsQ0FBQSxDQUFBLFNBQUE0QixnQkFBQXpELEVBQUFrRCxFQUFBdkIsR0FBQSxPQUFBdUIsRUFBQUQsZUFBQUMsQ0FBQSxLQUFBbEQsRUFBQWdDLE9BQUFnQixlQUFBaEQsRUFBQWtELEVBQUEsQ0FBQXZCLE1BQUFBLEVBQUFrQixXQUFBLENBQUEsRUFBQUMsYUFBQSxDQUFBLEVBQUFDLFNBQUEsQ0FBQSxDQUFBLENBQUEsRUFBQS9DLEVBQUFrRCxHQUFBdkIsRUFBQTNCLENBQUEsQ0FBQSxTQUFBaUQsZUFBQVMsR0FBQVIsRUFBQVMsYUFBQUQsRUFBQSxRQUFBLEVBQUEsTUFBQSxXQUFBM0QsUUFBQW1ELENBQUEsRUFBQUEsRUFBQVUsT0FBQVYsQ0FBQSxDQUFBLENBQUEsU0FBQVMsYUFBQUUsRUFBQUMsR0FBQSxHQUFBLFdBQUEvRCxRQUFBOEQsQ0FBQSxHQUFBLE9BQUFBLEVBQUEsT0FBQUEsRUFBQSxJQUFBRSxFQUFBRixFQUFBNUQsT0FBQStELGFBQUEsR0FBQUMsS0FBQUEsSUFBQUYsRUFBQSxPQUFBLFdBQUFELEVBQUFGLE9BQUFNLFFBQUFMLENBQUEsRUFBQU0sRUFBQUosRUFBQWpELEtBQUErQyxFQUFBQyxHQUFBLFNBQUEsRUFBQSxHQUFBLFdBQUEvRCxRQUFBb0UsQ0FBQSxFQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBdEMsVUFBQSw4Q0FBQSxDQUFBLENBQTlDLElBQUF1QyxRQUFBQyxTQUFBQyxjQUFBLFdBQUEsRUFBOENDLGFBQUFGLFNBQUFDLGNBQUEsZ0JBQUEsRUFBQUUsUUFBQUosUUFBQUssaUJBQUEsUUFBQSxXQUFBRixhQUFBRyxVQUFBQyxPQUFBLGlCQUFBLENBQUEsQ0FBQSxFQUFBeEIsYUFBQSxTQUFBcUIsSUFBQSxJQUFBSSxFQUFBQyxLQUFBdEIsZ0JBQUFzQixLQUFBTCxDQUFBLEVBQUFmLGdCQUFBb0IsS0FBQSxnQkFPNUMsV0FBQ0QsRUFFR0osbUJBQU0sRUFDR0ksRUFBQUUsZUFBQSxFQUFBRixFQUFBRyxxQkFBQSxDQVdkLENBWGMsRUFBQXRCLGdCQUFBb0IsS0FBQSxxQkFTUkMsV0FLTCxJQUpBRSxFQUFLRCxNQUFBQSxLQUFvQlYsU0FBRVksaUJBQUEsTUFBQSxDQUFBLEVBQUFDLElBQzNCLFNBQUFDLEdBQUEsT0FBQUEsRUFBQUMsRUFBQSxDQUFBLEVBR01KLEVBQVkxRCxNQUFNYyxLQUl2QmlDLFNBSEtZLGlCQUFZLGNBQUEsQ0FBQSxFQUFBQyxJQUNqQixTQUFBQyxHQUFBLE9BQUFBLEVBQUFFLFFBQUFDLEtBQUEsQ0FBQSxFQUtEVixFQUZXVyxXQUFVRixFQUFBQSxpQkFBQUEsc0JBQWFMLEVBQUEsSUFBQSxFQUdsQ0osRUFIbUNZLGlCQUFBLEVBQUFDLGlCQUFBQSxzQkFBQUMsRUFBQSxZQUFBLENBSXBDLENBQUMsRUFBQWpDLGdCQUFBb0IsS0FBQSxpQkFBQSxXQUFBN0MsT0FBQTJELEtBQUFmLEVBQUFZLGVBQUEsRUFBQUksUUFFZ0IsU0FBQU4sR0FBQSxPQUVmVixFQURENUMsZ0JBQWlCd0QsR0FBQUEsaUJBRWYsUUFFQVosRUFDRGlCLHNCQUFBLENBQ0QsQ0FBQSxDQUFELENBQUMsRUFBQXBDLGdCQUFBb0IsS0FBQSx5QkFJQSxTQUFBMUQsR0FEQXlELEVBSUFrQixhQUFBQyxFQUFBQSxPQUFhVixRQUFNUyxLQUhwQixDQUFDLEVBQUFyQyxnQkFBQW9CLEtBQUEsdUJBSUEsWUFBQSxFQUFBa0IsVUFBQUEsZUFBQW5CLEVBQUFrQixZQUFBLEVBQUFFLEtBV2EsU0FBQUMsR0FBQSxPQUFDQSxFQUFVQyxZQUFBRCxDQUFBLENBQUEsQ0FBQSxDQVh6QixDQUFDLEVBQUF4QyxnQkFBQW9CLEtBQUEsY0FjQyxTQUFBb0IsR0FBQSxJQUNERSxFQURDQyxFQUFBL0YsMkJBQ0Q0RixDQUFBLEVBQUEsSUFBRCxJQUFBRyxFQUFBdkYsRUFBQSxFQUFBLEVBQUFzRixFQUFBQyxFQUFBckYsRUFBQSxHQUFBRyxNQUFDLENBQUEsSUFBQW1GLEVBQUFGLEVBQUF4RSxNQUFBMEUsS0FBQXpCLEVBQUEwQixlQUFBRCxDQUFBLENBREEsQ0FBQyxDQUFBLE1BQUEzRixHQUFBMEYsRUFBQWpGLEVBQUFULENBQUEsQ0FBQSxDQUFBLFFBQUEwRixFQUFBL0UsRUFBQSxDQUFBLENBQ0YsQ0FBQyxFQUFBb0MsZ0JBQUFvQixLQUFBLGlCQU9jLFNBQUd3QixHQUpqQixJQUtNRSxFQUFJQyxFQUFBQSxRQUFBQSxRQUFBQSxVQUFvQixFQUFBLEVBRXhCQyxHQUFTLEVBQUFELGlCQUFBQSxlQUFBQSxNQUFBQSxNQUFBQSxFQUVmRSxHQUFRQyxFQUFBQSxpQkFBQUEsZUFBWUMsTUFBVUgsV0FBTyxLQUFBSixFQUFBUSxNQUFBQyxNQUFBLEVBQ3JDRixHQUFlLEVBQUFKLGlCQUFBQSxlQUFjLE1BQUEsV0FBQSxFQUU3QkQsR0FBS2hCLEVBQUFBLGlCQUFBQSxlQUFVd0IsS0FBWSxhQUFRTCxFQUFRdkUsSUFBQSxFQUMzQzZFLEdBQUEsRUFBQVIsaUJBQUFBLGVBQUEsSUFBQSxLQUFBUyxDQUFBLEVBdEVLMUIsR0FBUyxFQUFBaUIsaUJBQUFBLGVBQUssU0FBQSxvQkFBQSxNQUFBLEVBRW5CRSxFQUFLWixPQUFBQSxFQUFlYyxFQUFPSCxDQUFBLEVBQzNCRyxFQUFLTSxPQUFBQSxFQUFhRixDQUFFLEVBc0V0QjNDLEVBQUFBLFVBQVNJLGFBQWlCa0MsT0FBQUQsQ0FBa0IsQ0FIM0MsQ0FBQyxFQWpGNEM3QixLQUFBVSxVQUFBLEdBQUFWLEtBQUFXLGdCQUFBLEdBRTlDWCxLQUFNVCxhQUFrQixRQUN4QlMsS0FBTU4sY0FBZUYsQ0FFckJELENBQUFBLEdBK0VBQyxTQUFTSSxpQkFBaUIsbUJBQW9CLElBQUlELE1BQVEiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1hcExpc3RUb0RPTUVsZW1lbnRzLCBjcmVhdGVET01FbGVtIH0gZnJvbSAnLi9kb21pbnRlcmFjdGlvbnMuanMnO1xuaW1wb3J0IHsgZ2V0U2hvd3NCeUtleSB9IGZyb20gJy4vcmVxdWVzdHMuanMnO1xuXG5jb25zdCBtYWluQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4tYnRuJyk7XG5jb25zdCBkcm9wZG93bk1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd24tbWVudScpO1xuXG5tYWluQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRkcm9wZG93bk1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgndHJhbnNmb3JtLWNsYXNzJyk7XG59KTtcblxuY2xhc3MgVHZNYXplIHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy52aWV3RWxlbXMgPSB7fTtcblx0XHR0aGlzLnNob3dOYW1lQnV0dG9ucyA9IHt9O1xuXHRcdHRoaXMuc2VsZWN0ZWROYW1lID0gJ2hhcnJ5Jztcblx0XHR0aGlzLmluaXRpYWxpemVBcHAoKTtcblx0fVxuXG5cdGluaXRpYWxpemVBcHAgPSAoKSA9PiB7XG5cdFx0dGhpcy5jb25uZWN0RE9NRWxlbWVudHMoKTtcblx0XHR0aGlzLnNldHVwTGlzdGVuZXJzKCk7XG5cdFx0dGhpcy5mZXRjaEFuZERpc3BsYXlTaG93cygpO1xuXHR9O1xuXG5cdGNvbm5lY3RET01FbGVtZW50cyA9ICgpID0+IHtcblx0XHRjb25zdCBsaXN0T2ZJZHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tpZF0nKSkubWFwKFxuXHRcdFx0KGVsZW0pID0+IGVsZW0uaWRcblx0XHQpO1xuXHRcdGNvbnN0IGxpc3RPZkdlbnJlID0gQXJyYXkuZnJvbShcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWdlbnJlXScpXG5cdFx0KS5tYXAoKGVsZW0pID0+IGVsZW0uZGF0YXNldC5nZW5yZSk7XG5cblx0XHR0aGlzLnZpZXdFbGVtcyA9IG1hcExpc3RUb0RPTUVsZW1lbnRzKGxpc3RPZklkcywgJ2lkJyk7XG5cdFx0dGhpcy5zaG93TmFtZUJ1dHRvbnMgPSBtYXBMaXN0VG9ET01FbGVtZW50cyhsaXN0T2ZHZW5yZSwgJ2RhdGEtZ2VucmUnKTtcblx0fTtcblxuXHRzZXR1cExpc3RlbmVycyA9ICgpID0+IHtcblx0XHRPYmplY3Qua2V5cyh0aGlzLnNob3dOYW1lQnV0dG9ucykuZm9yRWFjaCgoZ2VucmUpID0+XG5cdFx0XHR0aGlzLnNob3dOYW1lQnV0dG9uc1tnZW5yZV0uYWRkRXZlbnRMaXN0ZW5lcihcblx0XHRcdFx0J2NsaWNrJyxcblx0XHRcdFx0dGhpcy5zZXRDdXJyZW50RmlsdGVyQnlOYW1lXG5cdFx0XHQpXG5cdFx0KTtcblx0fTtcblxuXHRzZXRDdXJyZW50RmlsdGVyQnlOYW1lID0gKGUpID0+IHtcblx0XHR0aGlzLnNlbGVjdGVkTmFtZSA9IGUudGFyZ2V0LmRhdGFzZXQuZ2VucmU7XG5cdH07XG5cblx0ZmV0Y2hBbmREaXNwbGF5U2hvd3MgPSAoKSA9PiB7XG5cdFx0Z2V0U2hvd3NCeUtleSh0aGlzLnNlbGVjdGVkTmFtZSkudGhlbigoc2hvd3MpID0+IHRoaXMucmVuZGVyQ2FyZHMoc2hvd3MpKTtcblx0fTtcblxuXHQvLyA8ZGl2IGNsYXNzPVwiY2FyZFwiPlxuXHQvLyBcdDxpbWcgc3JjPVwiXCIgYWx0PVwiXCIgY2xhc3M9XCJjYXJkLWltZ1wiPlxuXHQvLyBcdDxkaXYgY2xhc3M9XCJjYXJkLXRleHRcIj5cblx0Ly8gXHRcdDxoNSBjbGFzcz1cImNhcmQtdGl0bGVcIj5UeXR1xYIga2FydHk8L2g1PlxuXHQvLyBcdFx0PHA+TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gRmFjaWxpcywgaXN0ZT8gTG9yZW0gaXBzdW0gZG9sb3Igc2l0LjwvcD5cblx0Ly8gXHQ8L2Rpdj5cblx0Ly8gXHQ8YnV0dG9uIGNsYXNzPVwiY2FyZC1idG4gZHJvcC1idG5cIj5TaG93PC9idXR0b24+XG5cdC8vIDwvZGl2PlxuXG5cdHJlbmRlckNhcmRzID0gKHNob3dzKSA9PiB7XG5cdFx0Zm9yIChjb25zdCB7IHNob3cgfSBvZiBzaG93cykge1xuXHRcdFx0dGhpcy5jcmVhdGVTaG93Q2FyZChzaG93KVxuXHRcdH1cblx0fTtcblxuXHRjcmVhdGVTaG93Q2FyZCA9IChzaG93KSA9PiB7XG5cdFx0Y29uc3Qgc3VtbWFyeUFmdGVyID0gc2hvdy5zdW1tYXJ5LnJlcGxhY2UoL1s8cD4vXS9nLCAnJyk7XG5cblx0XHRjb25zdCBkaXZDYXJkID0gY3JlYXRlRE9NRWxlbSgnZGl2JywgJ2NhcmQnKTtcblx0XHRjb25zdCBpbWcgPSBjcmVhdGVET01FbGVtKCdpbWcnLCAnY2FyZC1pbWcnLCBudWxsLCBzaG93LmltYWdlLm1lZGl1bSk7XG5cdFx0Y29uc3QgY2FyZFRleHQgPSBjcmVhdGVET01FbGVtKCdkaXYnLCAnY2FyZC10ZXh0Jyk7XG5cdFx0Y29uc3QgaCA9IGNyZWF0ZURPTUVsZW0oJ2g1JywgJ2NhcmQtdGl0bGUnLCBzaG93Lm5hbWUpO1xuXHRcdGNvbnN0IHBhcmFncmFwaCA9IGNyZWF0ZURPTUVsZW0oJ3AnLCBudWxsLCBzdW1tYXJ5QWZ0ZXIpO1xuXHRcdGNvbnN0IGJ1dHRvbiA9IGNyZWF0ZURPTUVsZW0oJ2J1dHRvbicsICdkcm9wLWJ0biBjYXJkLWJ0bicsICdTaG93Jyk7XG5cblx0XHRkaXZDYXJkLmFwcGVuZChpbWcsIGNhcmRUZXh0LCBidXR0b24pO1xuXHRcdGNhcmRUZXh0LmFwcGVuZChoLCBwYXJhZ3JhcGgpO1xuXG5cdFx0dGhpcy52aWV3RWxlbXMuc2hvd3NXcmFwcGVyLmFwcGVuZChkaXZDYXJkKTtcblx0fTtcbn1cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG5ldyBUdk1hemUoKSk7XG4iXX0=
